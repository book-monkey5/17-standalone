import{a as G}from"./chunk-TH2U5X4P.js";import{$ as v,A as N,Aa as L,D as P,E as B,F as o,G as f,H as R,J as U,M as l,O as m,Q as r,R as i,S as g,T as j,U as A,V as M,W as S,X as p,Z as a,_ as u,ba as x,c as F,da as V,ea as d,fa as b,ga as H,l as w,la as C,ma as I,na as E,oa as z,u as k,ua as K,w as y,wa as q,x as O,xa as D,z as $}from"./chunk-USAVEDUA.js";var T=(()=>{class e{transform(t){return t?`${t.substring(0,3)}-${t.substring(3)}`:""}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=O({name:"isbn",type:e,pure:!0,standalone:!0})}return e})();var J=(()=>{class e{template;viewContainer;authService;destroy$=new F;constructor(t,n,c){this.template=t,this.viewContainer=n,this.authService=c,this.authService.isAuthenticated$.pipe(w(this.destroy$)).subscribe(_=>{_?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}ngOnDestroy(){this.destroy$.next()}static \u0275fac=function(n){return new(n||e)(f(R),f(U),f(G))};static \u0275dir=y({type:e,selectors:[["","bmLoggedinOnly",""]],standalone:!0})}return e})();var Q=(()=>{class e{confirmText;confirm=new P;onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=y({type:e,selectors:[["","bmConfirm",""]],hostBindings:function(n,c){n&1&&S("click",function(){return c.onClick()})},inputs:{confirmText:[0,"bmConfirm","confirmText"]},outputs:{confirm:"confirm"},standalone:!0})}return e})();var ee=e=>["/admin/edit",e];function te(e,s){if(e&1&&(r(0,"p",9),a(1),i()),e&2){let t=p().ngIf;o(),u(t.subtitle)}}function ie(e,s){if(e&1&&(r(0,"li"),a(1),i()),e&2){let t=s.$implicit;o(),u(t)}}function ne(e,s){if(e&1&&(r(0,"div")(1,"h2"),a(2,"Published"),i(),a(3),d(4,"date"),i()),e&2){let t=p().ngIf;o(3),v(" ",H(4,1,t.published,"longDate")," ")}}function oe(e,s){if(e&1&&g(0,"img",10),e&2){let t=p().ngIf;m("src",t.thumbnailUrl,B)}}function re(e,s){if(e&1){let t=M();j(0),r(1,"button",11),S("confirm",function(){$(t);let c=p().ngIf,_=p();return N(_.removeBook(c.isbn))}),a(2," Remove book "),i(),r(3,"a",12),a(4," Edit book "),i(),A()}if(e&2){let t=p().ngIf;o(3),m("routerLink",V(1,ee,t.isbn))}}function ae(e,s){if(e&1&&(r(0,"div",1)(1,"h1"),a(2),i(),l(3,te,2,1,"p",2),r(4,"div",3)(5,"div")(6,"h2"),a(7,"Authors"),i(),r(8,"ul"),l(9,ie,2,1,"li",4),i()(),r(10,"div")(11,"h2"),a(12,"ISBN"),i(),a(13),d(14,"isbn"),i(),l(15,ne,5,4,"div",5),i(),r(16,"h2"),a(17,"Description"),i(),r(18,"p"),a(19),i(),l(20,oe,1,1,"img",6),r(21,"a",7),a(22,"Back to list"),i(),l(23,re,5,3,"ng-container",8),i()),e&2){let t=s.ngIf;o(2),u(t.title),o(),m("ngIf",t.subtitle),o(6),m("ngForOf",t.authors),o(4),v(" ",b(14,7,t.isbn)," "),o(2),m("ngIf",t.published),o(4),u(t.description),o(),m("ngIf",t.thumbnailUrl)}}var W=(()=>{class e{service;route;router;book$;constructor(t,n,c){this.service=t,this.route=n,this.router=c;let _=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(_)}removeBook(t){this.service.remove(t).subscribe(()=>{this.router.navigateByUrl("/books")})}static \u0275fac=function(n){return new(n||e)(f(L),f(K),f(q))};static \u0275cmp=k({type:e,selectors:[["bm-book-details"]],standalone:!0,features:[x],decls:2,vars:3,consts:[["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","Cover",3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["role","doc-subtitle"],["alt","Cover",3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]],template:function(n,c){n&1&&(l(0,ae,24,9,"div",0),d(1,"async")),n&2&&m("ngIf",b(1,1,c.book$))},dependencies:[I,C,z,E,D,T,J,Q]})}return e})();function me(e,s){if(e&1&&g(0,"img",6),e&2){let t=p(2);m("src",t.book.thumbnailUrl,B)}}function se(e,s){if(e&1&&(r(0,"p",7),a(1),i()),e&2){let t=p(2);o(),v(" ",t.book.subtitle," ")}}function le(e,s){if(e&1&&(r(0,"li"),a(1),i()),e&2){let t=s.$implicit;o(),v(" ",t," ")}}function ce(e,s){if(e&1&&(r(0,"a",1),l(1,me,1,1,"img",2),r(2,"h2"),a(3),i(),l(4,se,2,1,"p",3),r(5,"ul",4),l(6,le,2,1,"li",5),i(),r(7,"div"),a(8),d(9,"isbn"),i()()),e&2){let t=p();m("routerLink",t.book.isbn),o(),m("ngIf",t.book.thumbnailUrl),o(2),u(t.book.title),o(),m("ngIf",t.book.subtitle),o(2),m("ngForOf",t.book.authors),o(2),v("ISBN ",b(9,6,t.book.isbn),"")}}var X=(()=>{class e{book;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=k({type:e,selectors:[["bm-book-list-item"]],inputs:{book:"book"},standalone:!0,features:[x],decls:1,vars:1,consts:[["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt","Cover",3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],["alt","Cover",3,"src"],["role","doc-subtitle"]],template:function(n,c){n&1&&l(0,ce,10,8,"a",0),n&2&&m("ngIf",c.book)},dependencies:[I,C,D,T]})}return e})();function pe(e,s){if(e&1&&(r(0,"li"),g(1,"bm-book-list-item",4),i()),e&2){let t=s.$implicit;o(),m("book",t)}}function fe(e,s){e&1&&(r(0,"li"),a(1," No books available. "),i())}function de(e,s){if(e&1&&(r(0,"ul",1),l(1,pe,2,1,"li",2)(2,fe,2,0,"li",3),i()),e&2){let t=s.ngIf;o(),m("ngForOf",t),o(),m("ngIf",!t.length)}}var Y=(()=>{class e{service;books$;constructor(t){this.service=t,this.books$=this.service.getAll()}static \u0275fac=function(n){return new(n||e)(f(L))};static \u0275cmp=k({type:e,selectors:[["bm-book-list"]],standalone:!0,features:[x],decls:4,vars:3,consts:[["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"]],template:function(n,c){n&1&&(r(0,"h1"),a(1,"Books"),i(),l(2,de,3,2,"ul",0),d(3,"async")),n&2&&(o(2),m("ngIf",b(3,1,c.books$)))},dependencies:[I,C,E,X]})}return e})();var Ae=[{path:"",component:Y},{path:":isbn",component:W}];export{Ae as BOOKS_ROUTES};

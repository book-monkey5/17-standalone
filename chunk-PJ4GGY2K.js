import{a as X}from"./chunk-DQUMYO3P.js";import{$ as u,A as U,Aa as L,C as j,E as S,F as n,G as c,H as M,J as V,M as s,O as m,Q as r,R as o,S as _,T as H,U as z,V as K,W as y,X as p,Z as a,_ as d,ba as g,c as N,da as q,ea as f,fa as b,ga as G,l as $,la as x,ma as C,na as D,oa as J,u as k,ua as Q,w as h,wa as W,x as P,xa as E,z as A}from"./chunk-O2QHHITW.js";var I=class t{transform(i){return i?`${i.substring(0,3)}-${i.substring(3)}`:""}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=P({name:"isbn",type:t,pure:!0,standalone:!0})};var T=class t{constructor(i,e,l){this.template=i;this.viewContainer=e;this.authService=l;this.authService.isAuthenticated$.pipe($(this.destroy$)).subscribe(v=>{v?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}destroy$=new N;ngOnDestroy(){this.destroy$.next()}static \u0275fac=function(e){return new(e||t)(c(M),c(V),c(X))};static \u0275dir=h({type:t,selectors:[["","bmLoggedinOnly",""]],standalone:!0})};var w=class t{confirmText;confirm=new j;onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275dir=h({type:t,selectors:[["","bmConfirm",""]],hostBindings:function(e,l){e&1&&y("click",function(){return l.onClick()})},inputs:{confirmText:[0,"bmConfirm","confirmText"]},outputs:{confirm:"confirm"},standalone:!0})};var te=t=>["/admin/edit",t];function ie(t,i){if(t&1&&(r(0,"p",9),a(1),o()),t&2){let e=p().ngIf;n(),d(e.subtitle)}}function oe(t,i){if(t&1&&(r(0,"li"),a(1),o()),t&2){let e=i.$implicit;n(),d(e)}}function ne(t,i){if(t&1&&(r(0,"div")(1,"h2"),a(2,"Published"),o(),a(3),f(4,"date"),o()),t&2){let e=p().ngIf;n(3),u(" ",G(4,1,e.published,"longDate")," ")}}function re(t,i){if(t&1&&_(0,"img",10),t&2){let e=p().ngIf;m("src",e.thumbnailUrl,S)}}function ae(t,i){if(t&1){let e=K();H(0),r(1,"button",11),y("confirm",function(){A(e);let v=p().ngIf,Z=p();return U(Z.removeBook(v.isbn))}),a(2," Remove book "),o(),r(3,"a",12),a(4," Edit book "),o(),z()}if(t&2){let e=p().ngIf;n(3),m("routerLink",q(1,te,e.isbn))}}function me(t,i){if(t&1&&(r(0,"div",1)(1,"h1"),a(2),o(),s(3,ie,2,1,"p",2),r(4,"div",3)(5,"div")(6,"h2"),a(7,"Authors"),o(),r(8,"ul"),s(9,oe,2,1,"li",4),o()(),r(10,"div")(11,"h2"),a(12,"ISBN"),o(),a(13),f(14,"isbn"),o(),s(15,ne,5,4,"div",5),o(),r(16,"h2"),a(17,"Description"),o(),r(18,"p"),a(19),o(),s(20,re,1,1,"img",6),r(21,"a",7),a(22,"Back to list"),o(),s(23,ae,5,3,"ng-container",8),o()),t&2){let e=i.ngIf;n(2),d(e.title),n(),m("ngIf",e.subtitle),n(6),m("ngForOf",e.authors),n(4),u(" ",b(14,7,e.isbn)," "),n(2),m("ngIf",e.published),n(4),d(e.description),n(),m("ngIf",e.thumbnailUrl)}}var F=class t{constructor(i,e,l){this.service=i;this.route=e;this.router=l;let v=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(v)}book$;removeBook(i){this.service.remove(i).subscribe(()=>{this.router.navigateByUrl("/books")})}static \u0275fac=function(e){return new(e||t)(c(L),c(Q),c(W))};static \u0275cmp=k({type:t,selectors:[["bm-book-details"]],standalone:!0,features:[g],decls:2,vars:3,consts:[["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","Cover",3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["role","doc-subtitle"],["alt","Cover",3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]],template:function(e,l){e&1&&(s(0,me,24,9,"div",0),f(1,"async")),e&2&&m("ngIf",b(1,1,l.book$))},dependencies:[C,x,J,D,E,I,T,w]})};function se(t,i){if(t&1&&_(0,"img",6),t&2){let e=p(2);m("src",e.book.thumbnailUrl,S)}}function pe(t,i){if(t&1&&(r(0,"p",7),a(1),o()),t&2){let e=p(2);n(),u(" ",e.book.subtitle," ")}}function le(t,i){if(t&1&&(r(0,"li"),a(1),o()),t&2){let e=i.$implicit;n(),u(" ",e," ")}}function ce(t,i){if(t&1&&(r(0,"a",1),s(1,se,1,1,"img",2),r(2,"h2"),a(3),o(),s(4,pe,2,1,"p",3),r(5,"ul",4),s(6,le,2,1,"li",5),o(),r(7,"div"),a(8),f(9,"isbn"),o()()),t&2){let e=p();m("routerLink",e.book.isbn),n(),m("ngIf",e.book.thumbnailUrl),n(2),d(e.book.title),n(),m("ngIf",e.book.subtitle),n(2),m("ngForOf",e.book.authors),n(2),u("ISBN ",b(9,6,e.book.isbn),"")}}var O=class t{book;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["bm-book-list-item"]],inputs:{book:"book"},standalone:!0,features:[g],decls:1,vars:1,consts:[["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt","Cover",3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],["alt","Cover",3,"src"],["role","doc-subtitle"]],template:function(e,l){e&1&&s(0,ce,10,8,"a",0),e&2&&m("ngIf",l.book)},dependencies:[C,x,E,I]})};function fe(t,i){if(t&1&&(r(0,"li"),_(1,"bm-book-list-item",4),o()),t&2){let e=i.$implicit;n(),m("book",e)}}function de(t,i){t&1&&(r(0,"li"),a(1," No books available. "),o())}function ue(t,i){if(t&1&&(r(0,"ul",1),s(1,fe,2,1,"li",2)(2,de,2,0,"li",3),o()),t&2){let e=i.ngIf;n(),m("ngForOf",e),n(),m("ngIf",!e.length)}}var R=class t{constructor(i){this.service=i;this.books$=this.service.getAll()}books$;static \u0275fac=function(e){return new(e||t)(c(L))};static \u0275cmp=k({type:t,selectors:[["bm-book-list"]],standalone:!0,features:[g],decls:4,vars:3,consts:[["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"]],template:function(e,l){e&1&&(r(0,"h1"),a(1,"Books"),o(),s(2,ue,3,2,"ul",0),f(3,"async")),e&2&&(n(2),m("ngIf",b(3,1,l.books$)))},dependencies:[C,x,D,O]})};var He=[{path:"",component:R},{path:":isbn",component:F}];export{He as BOOKS_ROUTES};
